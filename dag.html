<html>

<!-- 

    https://github.com/dagrejs/dagre/wiki#configuring-the-layout

-->

<head>

    <style>
        div {
            background-color: orange;
            width: 50px;
            height: 50px;
            position: absolute;
            text-align: center;
            vertical-align: middle;
            line-height: 50px;

        }
    </style>

    <script src="https://dagrejs.github.io/project/dagre/v0.7.5/dagre.js"></script>

    <script>
        // Create a new directed graph 
        var g = new dagre.graphlib.Graph();
        

        // Set an object for the graph label
        g.setGraph({align:"DL", rankdir:"TB", ranker:"longest-path", nodesep:15, edgesep:5, ranksep:5});

        

        // Default to assigning a new object as a label for each new edge.
        g.setDefaultEdgeLabel(function () { return {}; });

        // Add nodes to the graph. The first argument is the node id. The second is
        // metadata about the node. In this case we're going to add labels to each of
        // our nodes.
        g.setNode("n0", { label: "Node 0", width: 50, height: 50 });
        g.setNode("n1", { label: "Node 1", width: 50, height: 50 });
        g.setNode("n2", { label: "Node 2", width: 50, height: 50 });
        g.setNode("n3", { label: "Node 3", width: 50, height: 50 });
        g.setNode("n4", { label: "Node 4", width: 50, height: 50 });
        g.setNode("n5", { label: "Node 5", width: 50, height: 50 });
        g.setNode("n6", { label: "Node 6", width: 50, height: 50 });
        g.setNode("n7", { label: "Node 7", width: 50, height: 50 });
        g.setNode("n8", { label: "Node 8", width: 50, height: 50 });
        g.setNode("n9", { label: "Node 9", width: 50, height: 50 });


        // Add edges to the graph.
        g.setEdge("n0", "n1");
        g.setEdge("n0", "n2");
        g.setEdge("n0", "n3");
        g.setEdge("n0", "n6");
        g.setEdge("n2", "n4");
        g.setEdge("n2", "n5");
        g.setEdge("n1", "n9");
        g.setEdge("n3", "n9");
        g.setEdge("n8", "n9");
        g.setEdge("n6", "n7");
        g.setEdge("n7", "n8");


        dagre.layout(g);


        /*g.edges().forEach(function (e) {
            console.log("Edge " + e.v + " -> " + e.w + ": " + JSON.stringify(g.edge(e)));
        });*/
    </script>

</head>

<body>
    <script>
        g.nodes().forEach(function (v) {

            // {label: "Node 0", width: 50, height: 50, x: 275, y: 25}

            console.log("Node " + v + ": " + JSON.stringify(g.node(v)));

            var node = g.node(v);

            var elem = document.createElement('div');
            elem.id = node.label;
            elem.innerHTML = elem.id;
            elem.style.left = node.x;
            elem.style.top = node.y;
            document.getElementsByTagName('body')[0].appendChild(elem);

        });
    </script>
</body>

</html>